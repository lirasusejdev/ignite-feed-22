"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.StyledStepIconContainer = void 0;

var React = _interopRequireWildcard(require("react"));

var _styledComponents = _interopRequireWildcard(require("styled-components"));

var _orbitDesignTokens = require("@kiwicom/orbit-design-tokens");

var _Text = _interopRequireDefault(require("../Text"));

var _CheckCircle = _interopRequireDefault(require("./CheckCircle"));

var _useTheme = _interopRequireDefault(require("../hooks/useTheme"));

var _defaultTheme = _interopRequireDefault(require("../defaultTheme"));

var _WizardContext = require("./WizardContext");

const StyledStepIconContainer = _styledComponents.default.div.withConfig({
  displayName: "WizardStepIcon__StyledStepIconContainer",
  componentId: "sc-nu4xfl-0"
})(["", ";"], ({
  theme,
  $disabled,
  $glow
}) => (0, _styledComponents.css)(["display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:", ";background:", ";box-shadow:", ";position:relative;top:-2px;svg{display:block;}"], theme.orbit.borderRadiusCircle, $disabled ? theme.orbit.paletteCloudNormalHover : theme.orbit.paletteProductNormal, $glow && `0 0 0 4px ${(0, _orbitDesignTokens.convertHexToRgba)(theme.orbit.paletteProductNormal, 20)}`)); // $FlowFixMe: https://github.com/flow-typed/flow-typed/issues/3653#issuecomment-568539198


exports.StyledStepIconContainer = StyledStepIconContainer;
StyledStepIconContainer.defaultProps = {
  theme: _defaultTheme.default
};

const WizardStepIcon = () => {
  const {
    index,
    status,
    isCompact,
    isActive
  } = React.useContext(_WizardContext.WizardStepContext);
  const theme = (0, _useTheme.default)();
  return /*#__PURE__*/React.createElement(StyledStepIconContainer, {
    $disabled: status === "disabled",
    $glow: isActive && !isCompact
  }, status === "completed" ? /*#__PURE__*/React.createElement(_CheckCircle.default, {
    ariaLabel: "completed",
    size: "small",
    customColor: theme.orbit.paletteProductNormal
  }) : /*#__PURE__*/React.createElement(_Text.default, {
    as: "div",
    type: status === "disabled" ? "primary" : "white",
    size: "small",
    align: "center"
  }, typeof index === "number" ? index + 1 : null));
};

var _default = WizardStepIcon;
exports.default = _default;