import { useState, useCallback } from "react";
export default function useStateWithCallback(defaultValue, callback) {
  const [state, setState] = useState(defaultValue);
  const setStateWithCallback = useCallback(value => setState(prevValue => {
    if (value !== prevValue) {
      if (callback) {
        callback(value);
      }
    }

    return value;
  }), [callback]);
  return [state, setStateWithCallback];
}